<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><script src="https://use.typekit.net/xbr6agj.js"></script><script>try{Typekit.load({ async: true });}catch(e){}</script><script>window['_fs_debug'] = false;
window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = '6WVGW';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};
g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
g.clearUserCookie=function(c,d,i){if(!c || document.cookie.match('fs_uid=[`;`]*`[`;`]*`[`;`]*`')){
d=n.domain;while(1){n.cookie='fs_uid=;domain='+d+
';path=/;expires='+new Date(0).toUTCString();i=d.indexOf('.');if(i<0)break;d=d.slice(i+1)}}};
})(window,document,window['_fs_namespace'],'script','user');
</script><title> What's New in Swift 3 · Raj Abishek</title><meta name="description" content="What's New in Swift 3 - Raj Abishek"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/logo.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/logo.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="/archives" target="_self" class="nav-list-link">Blog</a></li><li class="nav-list-item"><a href="https://dribbble.com/rajabishek" target="_blank" class="nav-list-link">Dribbble</a></li><li class="nav-list-item"><a href="https://in.linkedin.com/in/rajabishek" target="_blank" class="nav-list-link">LinkedIn</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">Rss</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">What's New in Swift 3</h1><div class="post-info">Aug 5, 2016</div><div class="post-content"><h2 id="What’s-new-amp-what’s-gone"><a href="#What’s-new-amp-what’s-gone" class="headerlink" title="What’s new &amp; what’s gone"></a>What’s new &amp; what’s gone</h2><p>To be honest Swift 3 has lot of changes. If you compile in Xcode 8 beta, it will complain at your code. Apple integrated Swift 3 into Xcode 8 beta at WWDC 2016. Swift 3 is coming later this year. If you haven’t been following the Swift Evolution <a href="https://github.com/apple/swift-evolution" target="_blank" rel="external">project</a> closely, you may wonder what are the new changes and how it will affect your code, and when you should start porting your code to Swift 3. This article can help you with that.</p>
<a id="more"></a>
<h2 id="Getting-hands-on"><a href="#Getting-hands-on" class="headerlink" title="Getting hands on"></a>Getting hands on</h2><p>So where do we run Swift 3 and experiment with it ? Swift 3 preview is available in Xcode 8 beta which developers can download and try now. As Swift 3 is not officially released by Apple yet, developers have to wait till the year’s end before they can publish an app to the store that is written in Swift 3.</p>
<p>As of now along with Xcode 8 beta, Apple has included Swift 2.3 &amp; Swift 3. Swift 2.3 is the same as Swift 2.2 but with support for many of the new SDKs and Xcode features announced at WWDC 2016. Once Xcode 8 comes out of beta, you will be able to submit apps using Swift 2.3 if you have not yet migrated your code to Swift 3.</p>
<p>Its a good thing that Apple will include Swift 2.3 also in Xcode 8 stable release not creating problems for people who aren’t learning Swift 3 yet. They have really made the migration process smooth and easy. Apple has also included a Migration Assistant in Xcode to port your existing applications to Swift 3. I highly recommend you to create a new git branch and use that to get a feel of what has changed. But since you can’t release an app to the App Store until Xcode 8 is out of beta and Swift 3 is officially released, it is better to wait porting the codebase to Swift 3 until things calm down a bit.</p>
<p>Or if you would just like to experiment and try out the language now, I highly recommend the <a href="https://swiftlang.ng.bluemix.net/#/repl" target="_blank" rel="external">IBM Sandbox</a>. Its a REPL that is available online in cloud to experiment with Swift 3.</p>
<p>The best news of all is that Swift 3 aims to be the last release with breaking source changes. So looking forward, you should be able to keep your Swift code from version to version. Swift core team has promised that if they do need to break source compatibility, they will offer long deprecation cycles. That means the language has achieved source stability that will encourage more conservative companies to adopt it.</p>
<h2 id="The-changes"><a href="#The-changes" class="headerlink" title="The changes"></a>The changes</h2><p>As I said earlier they are 2 broad categories of changes that have been made. The things that are gone as of Swift 2.3 &amp; things that are new in Swift 3. Let’s start with the removed ones, since they are easier to understand and you may have encountered them before as warnings in Xcode 7.3.</p>
<h2 id="amp-–-operators"><a href="#amp-–-operators" class="headerlink" title="++ &amp; – operators"></a>++ &amp; – operators</h2><p>The increment and decrement operator are there in almost many programming languages that allow to quickly increase or decrease a value by one.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> <span class="built_in">count</span> = <span class="number">0</span></div><div class="line">++<span class="built_in">count</span></div><div class="line"><span class="built_in">print</span>(<span class="built_in">count</span>) <span class="comment">//1</span></div><div class="line">--<span class="built_in">count</span></div><div class="line"><span class="built_in">print</span>(<span class="built_in">count</span>) <span class="comment">//0</span></div></pre></td></tr></table></figure></p>
<p>However, things get a bit complicated for beginner’s when deciding which one to choose. Each of them comes in two possible variations prefix and postfix. Under the hood its operator overloading in action, they are all functions that return values which you may use or neglect. Its easy for a programmer who has already worked with a C style language, but if you think about it, it’s a bit overwhelming for the rookies, because ultimately the goal of writing neat code is that it must be simple and understandable to all. The Swift community felt that removing these operators and by encouraging the compound assignment operators instead of these, Swift can feel more natural and intuitive in nature.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Same code written using compound assignment operators</span></div><div class="line"><span class="keyword">var</span> <span class="built_in">count</span> = <span class="number">0</span></div><div class="line"><span class="built_in">count</span> += <span class="number">1</span></div><div class="line"><span class="built_in">print</span>(<span class="built_in">count</span>) <span class="comment">//1</span></div><div class="line"><span class="built_in">count</span> -= <span class="number">1</span></div><div class="line"><span class="built_in">print</span>(<span class="built_in">count</span>) <span class="comment">//0</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p>If you would like to know more about the motivation behind this change, check out <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0004-remove-pre-post-inc-decrement.md" target="_blank" rel="external">Chris Lattner’s proposal</a> on the removal of ++ and — operators.</p>
</blockquote>
<h2 id="C-style-for-loops"><a href="#C-style-for-loops" class="headerlink" title="C style for loops"></a>C style for loops</h2><p>If you remember, while programming the frequent place where you would use the decrement and increment operator would be in for loops.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;</div><div class="line">  sum += i</div><div class="line">&#125;</div><div class="line"><span class="comment">//Sum of the first 10 numbers</span></div><div class="line"><span class="built_in">print</span>(sum)</div></pre></td></tr></table></figure></p>
<p>But now with the removal of the operators, it means that we need a change in how we write loops also. And yes, you we correct, we write for loops in a different way now. The … is called as closed range operator. It includes all the number from start to end, unlike the half open range operator ..&lt; that does not include the end value.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>...<span class="number">10</span> &#123;</div><div class="line">  sum += i</div><div class="line">&#125;</div><div class="line"><span class="comment">//Sum of the first 10 numbers</span></div><div class="line"><span class="built_in">print</span>(sum)</div></pre></td></tr></table></figure></p>
<p>Alternatively, you can also use the for-each loop style with closures and shorthand arguments.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = <span class="number">0</span></div><div class="line">(<span class="number">1</span>...<span class="number">10</span>).forEach &#123; sum += $<span class="number">0</span> &#125;</div><div class="line"><span class="comment">//Sum of the first 10 numbers</span></div><div class="line"><span class="built_in">print</span>(sum)</div></pre></td></tr></table></figure></p>
<blockquote>
<p>If you would like to know more about the motivation behind this change, check out <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0007-remove-c-style-for-loops.md" target="_blank" rel="external">Erica Sadun’s proposal</a> on the removal of C-style for loop.</p>
</blockquote>
<h2 id="No-more-var-in-function-parameters"><a href="#No-more-var-in-function-parameters" class="headerlink" title="No more var in function parameters"></a>No more var in function parameters</h2><p>Function parameters are by default constants in Swift, since you don’t need to modify them in its body. However, there are certain cases when you need to modify the parameters inside the function and Swift 2 allowed for declaring them as variables with the <code>var</code> keyword. You can mark a function parameter as variable with the var keyword. Once the parameter is marked as var, it creates a local copy of the value so you can modify its value in the body of the function.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">primeNumbersInRange</span><span class="params">(<span class="keyword">var</span> n1: Int, n2: Int)</span></span> &#123;</div><div class="line">    </div><div class="line">    <span class="keyword">while</span>(n1 &lt; n2)&#123;</div><div class="line">        </div><div class="line">        <span class="keyword">var</span> flag = <span class="literal">false</span></div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">2</span>; i&lt;=n1/<span class="number">2</span>; ++i)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(n1%i == <span class="number">0</span>) &#123;</div><div class="line">                flag = <span class="literal">true</span></div><div class="line">                <span class="keyword">break</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (!flag) &#123;</div><div class="line">            <span class="built_in">print</span>(n1)</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        ++n1</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">primeNumbersInRange(<span class="number">4</span>, n2: <span class="number">20</span>)</div></pre></td></tr></table></figure></p>
<p>The above is a simple program to find the prime numbers within a given range. In Swift 3 the above code would be a lot different the ++ operators would be removed, the for loop style will be different and most importantly the var key word cannot be used while declaring function parameters. </p>
<p>Swift 3 no longer allows developers to set function parameters as variables as Swift developers may get confused between <code>var</code> and <code>inout</code>. So the latest version of Swift simply removes var from function parameters. Therefore, to write the same primeNumbersInRange function in Swift 3, it requires a different approach. You’ll need to save the values of the function parameters to local variables before you proceed.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">primeNumbersInRange</span><span class="params">(n1: Int, n2: Int)</span></span> &#123;</div><div class="line">    </div><div class="line">    <span class="comment">//We have to make a local copy explicitly, n1 &amp; n2 will always remain as constants</span></div><div class="line">    <span class="keyword">var</span> start = n1;</div><div class="line">    </div><div class="line">    <span class="keyword">while</span>(start &lt; n2)&#123;</div><div class="line">        </div><div class="line">        <span class="keyword">var</span> flag = <span class="literal">false</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">2</span>...start/<span class="number">2</span> &#123;</div><div class="line">            </div><div class="line">            <span class="keyword">if</span>(start%i == <span class="number">0</span>) &#123;</div><div class="line">                flag = <span class="literal">true</span></div><div class="line">                <span class="keyword">break</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (!flag) &#123;</div><div class="line">            <span class="built_in">print</span>(start)</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        start += <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">primeNumbersInRange(n1: <span class="number">4</span>, n2: <span class="number">20</span>)</div></pre></td></tr></table></figure></p>
<p>If you would like to know more about the motivation behind this change, check out the <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0003-remove-var-parameters.md" target="_blank" rel="external">proposal</a> on the removal of var keyword while declaring function parameters.</p>
<h2 id="Consistent-label-behavior-for-function-parameters"><a href="#Consistent-label-behavior-for-function-parameters" class="headerlink" title="Consistent label behavior for function parameters"></a>Consistent label behavior for function parameters</h2><p>In Swift 2 we would call the above function that we defined like this.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">primeNumbersInRange(<span class="number">4</span>, n2: <span class="number">20</span>)</div></pre></td></tr></table></figure></p>
<p>Under the scenes function parameter lists are tuples, so you can also create a tuple and pass it as an argument. The tuple’s structure needs to match the function prototype.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> argument = (<span class="number">4</span>, n2: <span class="number">20</span>)</div><div class="line">primeNumbersInRange(argument)</div></pre></td></tr></table></figure></p>
<p>As you can see, you do not need to specify the label of the first parameter in Swift 2. However, you have to specify the label of the second (and the rest of the parameters) when calling the function. This syntax is confusing for beginners, so it is designed to standardize the label behavior. In Swift 3 you would call the function like this.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">primeNumbersInRange(n1: <span class="number">4</span>, n2: <span class="number">20</span>)</div></pre></td></tr></table></figure></p>
<p>But what if you don’t want to pass the first parameter label during a function call. Then in Swift 3 while declaring the function itself you have to be explicitly state that the first parameter doesn’t require a label while calling the function.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">primeNumbersInRange</span><span class="params">(<span class="number">_</span> n1: Int, n2: Int)</span></span> &#123; ... &#125;</div></pre></td></tr></table></figure></p>
<p>By doing this, you can invoke the function using the old way i.e without specifying the first label. This would also initially be helpful in making you code migration process to Swift 3 easier.</p>
<blockquote>
<p>If you would like to know more about the motivation behind this change, check out the <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0046-first-label.md" target="_blank" rel="external">proposal</a>.</p>
</blockquote>
</div></article></div></section><footer><div class="paginator"><a href="/2016/Version-control-with-git/" class="prev">PREV</a><a href="/2016/Adding-a-search-bar-in-table-view/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://rajabishek.com">Raj Abishek</a>, unless otherwise noted.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-93252193-1",'auto');ga('send','pageview');</script></body></html>