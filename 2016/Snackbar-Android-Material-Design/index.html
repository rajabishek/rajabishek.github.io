<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><script src="https://use.typekit.net/xbr6agj.js"></script><script>try{Typekit.load({ async: true });}catch(e){}</script><script>window['_fs_debug'] = false;
window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = '6WVGW';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};
g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
g.clearUserCookie=function(c,d,i){if(!c || document.cookie.match('fs_uid=[`;`]*`[`;`]*`[`;`]*`')){
d=n.domain;while(1){n.cookie='fs_uid=;domain='+d+
';path=/;expires='+new Date(0).toUTCString();i=d.indexOf('.');if(i<0)break;d=d.slice(i+1)}}};
})(window,document,window['_fs_namespace'],'script','user');
</script><title> Snackbar - Android Material Design · Raj Abishek</title><meta name="description" content="Snackbar - Android Material Design - Raj Abishek"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/logo.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/logo.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="/archives" target="_self" class="nav-list-link">Blog</a></li><li class="nav-list-item"><a href="https://dribbble.com/rajabishek" target="_blank" class="nav-list-link">Dribbble</a></li><li class="nav-list-item"><a href="https://in.linkedin.com/in/rajabishek" target="_blank" class="nav-list-link">LinkedIn</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">Rss</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Snackbar - Android Material Design</h1><div class="post-info">Sep 16, 2016</div><div class="post-content"><h2 id="Better-notifications"><a href="#Better-notifications" class="headerlink" title="Better notifications"></a>Better notifications</h2><p>Snackbar notifications in Android are helpful in providing lightweight feedback about an operation. They show a brief message at the bottom of the screen on mobile and lower left on larger devices. They appear above all other elements on screen and only one can be displayed at a time.</p>
<a id="more"></a>
<p>Material design includes another interesting component called as a snackbar. They are just like toast messages except they also provide action to interact with. And unlike toast notification which can exist independently of the application(even after the application was closed), snackbar messages feel more tied up with the application’s user interface, as they are presented as a small bar sliding from the bottom of the screen. We can even swipe them off to dismiss them.</p>
<h2 id="Plain-snackbar"><a href="#Plain-snackbar" class="headerlink" title="Plain snackbar"></a>Plain snackbar</h2><p>Below is the syntax of a simple snackbar. First step would be to import the <code>Snackbar</code> class from the material design package by placing <code>import android.support.design.widget.Snackbar</code> at the top of the java file. The <code>Snackbar</code> class has a factory method called as <code>make</code> that returns us an instance of <code>Snackbar</code>. The make method accepts three parameters. A view instance, message to display and the duration of the message.</p>
<p>The view instance passed as the first parameter is the view to find a parent from. Snackbar will try and find a parent view to hold Snackbar’s view from the value given to view parameter. Snackbar will walk up the view tree trying to find a suitable parent, which is defined as a <code>CoordinatorLayout</code> or the window decor’s content view, whichever comes first. If you would like to reduce this work done by android to find the parent you can instead directly pass the reference to the <code>CoordinatorLayout</code> as view parameter.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> CoordinatorLayout coordinatorLayout;</div><div class="line"></div><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">    setContentView(R.layout.activity_main);</div><div class="line">    coordinatorLayout = (CoordinatorLayout) findViewById(R.id</div><div class="line">            .coordinatorLayout);</div><div class="line">    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);</div><div class="line">    setSupportActionBar(toolbar);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Once you have set the content view you can get the reference of the coordinator layout. In the XML file on the frontend make sure that the coordinator layout has the xml attribute <code>android:id=&quot;@+id/coordinatorLayout&quot;</code>. Here the coordinatorLayout field is a variable on the Activity class that is of type <code>android.support.design.widget.CoordinatorLayout</code>. You can even make this field as private as it will be used only inside this class as shown above.</p>
<p>Having a <code>CoordinatorLayout</code> in your view hierarchy allows Snackbar to enable certain features, such as swipe-to-dismiss and automatically moving of widgets like <code>FloatingActionButton</code>. Therefore always try using a <code>CoordinatorLayout</code> view group whenever working with material design components.</p>
<p>The message parameter is a String object which is the message to be displayed by the snackbar. The duration parameter is of type <code>int</code> and you can provide either 0 or -1 or -2. 0 for longer time, -1 for shorter time and -2 for a message of indefinite time. For better code clarity and to make sure you are providing only either of these 3 values it is a recommended practice that you use one of the static final fields on the <code>Snackbar</code> class. The duration should be <code>Snackbar.LENGTH_SHORT</code>, <code>Snackbar.LENGTH_LONG</code> or <code>Snackbar.LENGTH_INDEFINITE</code>. Internally these static final fields on the <code>Snackbar</code> class map to these curresponding integer values. When <code>Snackbar.LENGTH_INDEFINITE</code> is used, the snackbar will be displayed indefinite time and can be dismissed with swipe off.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Snackbar snackbar = Snackbar.make(coordinatorLayout, <span class="string">"Helloworld from Raj Abishek"</span>, Snackbar.LENGTH_LONG);</div><div class="line">snackbar.show();</div></pre></td></tr></table></figure></p>
<h2 id="Snackbar-with-an-action"><a href="#Snackbar-with-an-action" class="headerlink" title="Snackbar with an action"></a>Snackbar with an action</h2><p>You can also mention a callback interaction method using <code>setAction(CharSequence, android.view.View.OnClickListener)</code> method. This allows us to take certain action when user interacts with the snackbar action button. The <code>setAction</code> method takes two parameters, first one is the name of the action button and the 2nd parameter is an instance of a class that implements the <code>OnClickListener</code> functional interface. Since lambda expressions are not yet supported in android we can make use of anonymous classes instead. As you can see below we are creating an object of an anonymous class that implements the <code>OnClickListener</code> and overrides the <code>onClick</code> method and passing it as the 2nd parameter.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Snackbar deletedMessage = Snackbar</div><div class="line">        .make(coordinatorLayout, <span class="string">"Message is deleted"</span>, Snackbar.LENGTH_LONG)</div><div class="line">        .setAction(<span class="string">"UNDO"</span>, <span class="keyword">new</span> View.OnClickListener() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</div><div class="line">                Snackbar restoredMessage = Snackbar.make(coordinatorLayout, <span class="string">"Message is restored!"</span>, Snackbar.LENGTH_SHORT);</div><div class="line">                restoredMessage.show();</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line"> </div><div class="line">deletedMessage.show();</div></pre></td></tr></table></figure></p>
<h2 id="Customizing-the-snackbar"><a href="#Customizing-the-snackbar" class="headerlink" title="Customizing the snackbar"></a>Customizing the snackbar</h2><p>Snackbar comes with default white color text and <code>#323232</code> background color. You can override these colors as mentioned below.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">Snackbar snackbar = Snackbar.make(coordinatorLayout, <span class="string">"Helloworld from Raj Abishek"</span>, Snackbar.LENGTH_LONG);</div><div class="line">snackbar.setAction(<span class="string">"RETRY"</span>, <span class="keyword">new</span> View.OnClickListener() &#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// Changing action button text color</span></div><div class="line">snackbar.setActionTextColor(Color.BLUE);</div><div class="line"></div><div class="line">View snackbarView = snackbar.getView();</div><div class="line"><span class="comment">// Changing background color of the snackbar</span></div><div class="line">snackbarView.setBackgroundColor(Color.GREEN);</div><div class="line">TextView textView = (TextView) snackbarView.findViewById(android.support.design.R.id.snackbar_text);</div><div class="line"><span class="comment">// Changing message text color</span></div><div class="line">textView.setTextColor(Color.BLACK);</div><div class="line">snackbar.show();</div></pre></td></tr></table></figure></p>
<h2 id="Listening-for-snackbar-visibility-changes"><a href="#Listening-for-snackbar-visibility-changes" class="headerlink" title="Listening for snackbar visibility changes"></a>Listening for snackbar visibility changes</h2><p>To be notified when a snackbar has been shown or dismissed, you can provide a <code>Snackbar.Callback</code> via <code>setCallback(Callback)</code> method on the snackbar instance. The <code>setCallback</code> method expects an instance of a class that extends the <code>Callback</code> class. The <code>Callback</code> class is actually a nested public static abstract class of the <code>Snackbar</code> class. You pass an instance of a class that extends this abstract class to the <code>setCallback</code> method. We essentially set a callback to be called when this the visibility of this Snackbar changes.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">Snackbar snackbar = Snackbar.make(coordinatorLayout, <span class="string">"Helloworld from Raj Abishek"</span>, Snackbar.LENGTH_LONG);</div><div class="line">snackbar.setAction(<span class="string">"RETRY"</span>, <span class="keyword">new</span> View.OnClickListener() &#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">snackbar.setCallback(<span class="keyword">new</span> Snackbar.Callback() &#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDismissed</span><span class="params">(Snackbar snackbar, <span class="keyword">int</span> event)</span> </span>&#123;</div><div class="line">        Log.v(<span class="string">"MainActivity"</span>, <span class="string">"The snackbar has been dismissed."</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onShown</span><span class="params">(Snackbar snackbar)</span> </span>&#123;</div><div class="line">        Log.v(<span class="string">"MainActivity"</span>, <span class="string">"The snackbar has been presented."</span>);</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line">snackbar.show();</div></pre></td></tr></table></figure></p>
<p>The abstract <code>Callback</code> nested class of <code>Snackbar</code> class has empty implementations for both the <code>onDismissed</code> and the <code>onShown</code> method. Therefore we can override that empty implementations to provide our custom functionality when a snackbar is dismissed or presented on screen. The <code>onDismissed</code> method is called when the snackbar moves away from the screen(manually swiping or automatically after the time period.)</p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/Groovy-Essentials/" class="prev">PREV</a><a href="/2016/BoxMail-Design-to-Production/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://rajabishek.com">Raj Abishek</a>, unless otherwise noted.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-93252193-1",'auto');ga('send','pageview');</script></body></html>