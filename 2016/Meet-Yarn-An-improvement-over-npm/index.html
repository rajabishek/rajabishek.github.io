<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><script src="https://use.typekit.net/xbr6agj.js"></script><script>try{Typekit.load({ async: true });}catch(e){}</script><script>window['_fs_debug'] = false;
window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = '6WVGW';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};
g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
g.clearUserCookie=function(c,d,i){if(!c || document.cookie.match('fs_uid=[`;`]*`[`;`]*`[`;`]*`')){
d=n.domain;while(1){n.cookie='fs_uid=;domain='+d+
';path=/;expires='+new Date(0).toUTCString();i=d.indexOf('.');if(i<0)break;d=d.slice(i+1)}}};
})(window,document,window['_fs_namespace'],'script','user');
</script><title> Meet Yarn - Improvement Over Npm · Raj Abishek</title><meta name="description" content="Meet Yarn - Improvement Over Npm - Raj Abishek"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/logo.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/logo.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="/archives" target="_self" class="nav-list-link">Blog</a></li><li class="nav-list-item"><a href="https://dribbble.com/rajabishek" target="_blank" class="nav-list-link">Dribbble</a></li><li class="nav-list-item"><a href="https://in.linkedin.com/in/rajabishek" target="_blank" class="nav-list-link">LinkedIn</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">Rss</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Meet Yarn - Improvement Over Npm</h1><div class="post-info">Nov 30, 2016</div><div class="post-content"><h2 id="Whats-the-problem-with-npm"><a href="#Whats-the-problem-with-npm" class="headerlink" title="Whats the problem with npm ?"></a>Whats the problem with npm ?</h2><p>It seems like almost every other week there is a new JavaScript library taking the web community by storm. The community is increasingly vibrant, diverse and is moving rapidly on multiple fronts.</p>
<a id="more"></a>
<p>As we all know NPM was introduced to solve dependency management for JavaScript and then it quickly became the default package manager for Node.js. Since inception developers have been using npm for both frontend and backend dependency management. Sometimes good is not good enough. The NPM package manager had the following problems:</p>
<ul>
<li>The packages installed via npm were stored in the <code>node_modules</code> directory. Running <code>npm install</code> from the console after deleting the <code>node_modules</code> directory <strong>re-downloaded each and every package</strong> along with their dependencies, <strong>taking up a lot of time</strong>.</li>
<li>NPM always installs each dependency one after the other. Remember when we were grabbing a coffee after running <code>npm install</code> on console. Why can’t the downloads be parallelized ?</li>
<li>The npm package manager does not provide <strong>offline installation</strong> from any local cache.</li>
</ul>
<h2 id="Meet-Yarn"><a href="#Meet-Yarn" class="headerlink" title="Meet Yarn"></a>Meet Yarn</h2><p>Yarn is the newest package manager from facebook as a replacement for npm. It improves over features provided by the npm package manager. The yarn package manager was designed with keeping 3 principles in mind - Speed, Security &amp; Reliability. Its important to remember here that yarn is an improvement over npm. The packages are the same as on the NPM registry. Yarn is basically a new installer, where NPM structure and <strong>registry is the same</strong>.</p>
<h2 id="Speed"><a href="#Speed" class="headerlink" title="Speed"></a>Speed</h2><p>The yarn package manager is <strong>2 to 7x faster</strong> when compared to npm. This good performance comes from an interesting cache implementation. Whenever we install a package through yarn it caches it, so anytime we request for an installation of a package, it will first try to install it from its cache. By caching the packages in this way the npm packages can be installed without an internet connection with yarn. This comes in handy reducing the build time in Continuous Integration(CI) servers. They no longer rely on an internet connection and the npm registry, and your tests will pass even when npm goes down. It also executes the package downloads in parallel threads to make the best use of resources. </p>
<h2 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h2><p>The package installation process is secure. Anytime a package is installed and is about to be executed, it verifies the integrity of the package by using the <strong>package’s checksum</strong>. The same checksum method is also used to check if the caching process of the package was successful or not. When an incorrect checksum is detected, the packages is again re-downloaded from the original source.</p>
<h2 id="Reliability"><a href="#Reliability" class="headerlink" title="Reliability"></a>Reliability</h2><p>When you run <code>yarn</code> from console(equivalent to <code>npm install</code>), it creates <code>yarn.lock</code> file. This file guarantees that an install that worked on one system will work exactly the same way on any other system. The lock file keeps track of the exact package version installed in <code>node_modules</code> directory. It is recommended to add this file to version control since it gives the package version consistency across all environments.</p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>You can install <code>yarn</code> globally through npm.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -g yarn</div></pre></td></tr></table></figure></p>
<p>To update and keep up with the latest version of yarn, you can run the following.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yarn self-update</div></pre></td></tr></table></figure></p>
<h2 id="NPM-vs-Yarn-Cheat-Sheet"><a href="#NPM-vs-Yarn-Cheat-Sheet" class="headerlink" title="NPM vs Yarn Cheat Sheet"></a>NPM vs Yarn Cheat Sheet</h2><p>The yarn CLI replaces npm in your development workflow, either with a matching command or a new, similar command.</p>
<ul>
<li><code>npm install</code> === <code>yarn</code><br>Installation is the default behavior.</li>
<li><code>npm install babel-cli --save</code> === <code>yarn add babel-cli</code><br>The babel-cli package is downloaded in the <code>node_modules</code> directory and saved to the package.json in the dependencies section immediately.</li>
<li><code>npm uninstall babel-cli --save</code> === <code>yarn remove babel-cli</code><br>To not use –save option explicitly while uninstalling a package to remove the entry from the package.json file can be defaulted in NPM by running the command <code>npm config set save true</code> on console. But this is not needed in the yarn package manager, adding and removing entries from package.json is default in yarn.</li>
<li><code>npm install babel-cli --save-dev</code> === <code>yarn add babel-cli --dev</code><br>The babel-cli package is downloaded in the <code>node_modules</code> directory and saved to the package.json in the dev dependencies section immediately.</li>
<li><code>npm update --save</code> === <code>yarn upgrade</code><br>The package version number moves up and an upgrade is happening. Its good that yarn called it <code>upgrade</code> instead of <code>update</code> since that is what is happening.</li>
<li><code>npm install babel-cli --global</code> === <code>yarn global add babel-cli</code><br>This installs the package globally. Infact you can use yarn to manage itself globally by running <code>yarn global add yarn</code> from the console. For following commands, if you know NPM you are ready to go.<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">npm init        → yarn init</div><div class="line">npm link        → yarn link</div><div class="line">npm outdated    → yarn outdated</div><div class="line">npm publish     → yarn publish</div><div class="line">npm run         → yarn run</div><div class="line">npm cache clean → yarn cache clean</div><div class="line">npm login       → yarn login</div><div class="line">npm logout      → yarn logout</div><div class="line">npm test        → yarn test</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="New-features"><a href="#New-features" class="headerlink" title="New features"></a>New features</h2><p>Yarn has some great new features that NPM doesn’t have. You can check the licenses of your dependencies and you can also generate your license dependencies using the following commands.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">yarn licenses </div><div class="line">yarn licenses generate</div></pre></td></tr></table></figure></p>
<p>From the console you can also run <code>yarn why &lt;package-name&gt;</code> to identify why this package is installed and which other packages are dependent on it. If you have some time, thank <a href="https://github.com/ocombe" target="_blank" rel="external">Oliver Combe</a> for this feature.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yarn why babel-cli</div></pre></td></tr></table></figure></p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Yarn in its infancy has already brought significant improvements in the way JavaScript packages are fetched from global registries into local environments, especially with regard to speed and security. As far as I have worked with yarn it looks amazing and I have no complaints. Moreover the project being backed by big tech giants like Google and Facebook makes me feel positive that it can become the official npm package manager soon.</p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/Views-in-iOS/" class="prev">PREV</a><a href="/2016/Programming-in-go/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://rajabishek.com">Raj Abishek</a>, unless otherwise noted.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-93252193-1",'auto');ga('send','pageview');</script></body></html>